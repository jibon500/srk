<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <style>
        /* লগইন ফর্ম স্টাইল */
        body { font-family: Arial; background: #f2f2f2; }
        .login-form { max-width: 400px; margin: 50px auto; padding: 20px; background: white; border-radius: 5px; }
        input { width: 100%; padding: 10px; margin: 10px 0; }
        button { background: #4361ee; color: white; border: none; padding: 10px; width: 100%; }
    </style>
</head>
<body>
    <div class="login-form">
        <h2>Admin Login</h2>
        <input type="email" id="email" placeholder="Email">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
    </div>

    <script>
         // Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyAgvOSJFY8WqRoVXRWjWiOEdAmjvTz_pgU",
  authDomain: "task-app-a3b8a.firebaseapp.com",
  databaseURL: "https://task-app-a3b8a-default-rtdb.firebaseio.com",
  projectId: "task-app-a3b8a",
  storageBucket: "task-app-a3b8a.firebasestorage.app",
  messagingSenderId: "154506156460",
  appId: "1:154506156460:web:78124e37a074fe43218209",
  measurementId: "G-Q2C5BLCWDT"
};
        firebase.initializeApp(firebaseConfig);

        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then(() => {
                    // অ্যাডমিন ইউজার চেক করুন
                    const user = firebase.auth().currentUser;
                    firebase.firestore().collection('admins').doc(user.uid).get()
                        .then(doc => {
                            if (doc.exists) {
                                window.location.href = "admin.html";
                            } else {
                                alert("You are not an admin!");
                                firebase.auth().signOut();
                            }
                        });
                })
                .catch(error => {
                    alert("Login error: " + error.message);
                });
        }
    </script>
</body>
</html>
